<nav>
  <a class="nav-toggle" id="open-nav" href="#">&#9776;</a>
  <a class="editor-link btn" href="cloudcannon:collections/_data/navigation.yml" class="btn"><strong>&#9998;</strong> Edit navigation</a>

  {% assign links=site.data.navigation %}
  {% for link in links %}
    {% assign class = "" %}
    {% if link.highlight %}
      {% assign class = class | append: " highlight" %}
    {% endif %}

    {% if link.link == page.url %}
      {% assign class = class | append: " active" %}
    {% endif %}

    <a href="{{ link.link }}" class="{{ class }}" {% if link.new_window %}target="_blank"{% endif %}>{{ link.name }}</a>
  {% endfor %}

  {% assign switch_lang=site.data.other_lang[site.active_lang] %}
  <!--  N.B. The space at the start href is intentional -->
  <!--  It's how polyglot knows not to relativise the link -->
  <a href=" {{ site.baseurl }}/{{ switch_lang }}{{ page.url }}" class="{{ apost.lang }}">
    {{ site.data.languages[switch_lang] }}
  </a>

</nav>
